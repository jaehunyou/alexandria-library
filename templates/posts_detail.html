{% extends "base.html" %} {% block title %}{{ post.title }} - 미니 게시판{%
endblock %} {% block content %}
<article class="rounded-xl border border-slate-200 bg-white p-5">
  <header class="mb-4 border-b border-slate-100 pb-3">
    <h2 class="text-xl font-semibold tracking-tight mb-1">{{ post.title }}</h2>
    <p class="text-xs text-slate-500">
      작성자 {{ post.author }} · {{ post.created_at }} {% if post.updated_at %}
      · 수정 {{ post.updated_at }} {% endif %} · 조회수 {{ post.views }}
    </p>
  </header>

  {% if post.image_url %}
  <div class="mb-4">
    <img
      src="{{ post.image_url }}"
      alt="이미지"
      class="max-h-80 rounded-lg border border-slate-100 object-contain"
    />
  </div>
  {% endif %} {% if youtube_embed_url %}
  <div class="mb-4 aspect-video">
    <iframe
      width="560"
      height="315"
      src="{{ youtube_embed_url }}"
      title="YouTube video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
      class="w-full h-full rounded-lg border border-slate-200"
    >
    </iframe>
  </div>
  {% endif %}

  <div class="prose prose-sm max-w-none text-slate-800 whitespace-pre-line">
    {{ post.content }}
  </div>

  <footer class="mt-6 flex items-center justify-between">
    <a
      href="{{ url_for('posts_list') }}"
      class="text-sm text-slate-500 hover:text-slate-800"
    >
      ← 목록으로
    </a>

    <div class="flex gap-2">
      <a
        href="{{ url_for('posts_edit', post_id=post.id) }}"
        class="rounded-md border border-slate-300 px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-50"
      >
        수정
      </a>
      <form
        method="POST"
        action="{{ url_for('posts_delete_route', post_id=post.id) }}"
      >
        <button
          type="submit"
          class="rounded-md bg-red-500 px-3 py-1.5 text-sm text-white hover:bg-red-600"
        >
          삭제
        </button>
      </form>
    </div>
  </footer>
</article>
{% endblock %}
